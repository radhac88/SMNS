{"version":3,"sources":["../src/js/jquery.pajinatify.js"],"names":[],"mappings":"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","file":"jquery.pajinatify.js","sourcesContent":["/*!\r\n * pajinatify - A light-weight pagination plugin for jQuery\r\n *\r\n * Copyright 2018, Mehdi Dehghani\r\n * (http://www.github.com/dehghani-mehdi)\r\n *\r\n * @author   Mehdi Dehghani\r\n * @license  MIT\r\n *\r\n */\r\n;\r\n\r\n(function ($, window, document, undefined) {\r\n    const pluginName = 'pajinatify',\r\n        p = {},\r\n        // -- Globals (shared across all plugin instances)\r\n        defaults = {\r\n            debug: false,\r\n            onChange: null,\r\n            dir: 'ltr'\r\n        };\r\n\r\n    let _this;\r\n\r\n    p[pluginName] = class {\r\n        constructor(el, config) {\r\n            this.el = el;\r\n            this.$el = $(el);\r\n\r\n            this.config = $.extend({}, defaults, config);\r\n\r\n            this._defaults = defaults;\r\n\r\n            this.init();\r\n            this.wireEvents();\r\n\r\n            _this = this;\r\n        }\r\n\r\n        init() {\r\n            this.$el.addClass('pajinatify').addClass(`pajinatify__${this.config.dir}`);\r\n\r\n            let totalCount = this.$el.data('total-count'),\r\n                take = this.$el.data('take');\r\n\r\n            this.CURRENT_PAGE = this.CURRENT_PAGE || 1;\r\n\r\n            this.TOTAL_PAGES = Math.floor(totalCount / take);\r\n            if (totalCount % take != 0) this.TOTAL_PAGES++;\r\n\r\n            if (this.config.debug) {\r\n                console.log('init-------------------------------------');\r\n                console.log(`total count: ${totalCount}`);\r\n                console.log(`take: ${take}`);\r\n                console.log(`current page: ${this.CURRENT_PAGE}`);\r\n                console.log(`total pages: ${this.TOTAL_PAGES}`);\r\n                console.log('-----------------------------------------');\r\n            }\r\n\r\n            if (this.TOTAL_PAGES > 1)\r\n                this.$el.html(this.compute());\r\n            else\r\n                this.$el.empty();\r\n        }\r\n\r\n        wireEvents() {\r\n            $('body').on('click', '.pajinatify__button', (e) => {\r\n                e.preventDefault();\r\n\r\n                let page = +$(e.currentTarget).attr('data-page');\r\n\r\n                this.CURRENT_PAGE = page;\r\n\r\n                this.$el.data('current', this.CURRENT_PAGE).html(this.compute());\r\n\r\n                if (typeof this.config.onChange === 'function') this.config.onChange.call(this.$el, this.CURRENT_PAGE);\r\n\r\n                this.$el.trigger('onChange', this.CURRENT_PAGE);\r\n            });\r\n        };\r\n\r\n        compute() {\r\n            let delta = 1,\r\n                range = [],\r\n                html = [],\r\n                l,\r\n                page;\r\n\r\n            if (this.CURRENT_PAGE == this.TOTAL_PAGES) delta = 2;\r\n            if (this.CURRENT_PAGE == this.TOTAL_PAGES - 1) delta = 2;\r\n\r\n            if (this.CURRENT_PAGE == 1) delta = 2;\r\n            if (this.CURRENT_PAGE == 2) delta = 2;\r\n\r\n            range.push(1);\r\n            for (let i = this.CURRENT_PAGE - delta, len = this.CURRENT_PAGE + delta; i <= len; i++) {\r\n                if (i < this.TOTAL_PAGES && i > 1) {\r\n                    range.push(i);\r\n                }\r\n            }\r\n            if (this.TOTAL_PAGES != 1) range.push(this.TOTAL_PAGES);\r\n\r\n            if (this.CURRENT_PAGE != 1) {\r\n                page = +this.CURRENT_PAGE - 1;\r\n\r\n                html.push($('<span />', {\r\n                    class: 'pajinatify__button pajinatify__arrow arrow__prev',\r\n                    attr: {\r\n                        'data-page': page\r\n                    }\r\n                }));\r\n            }\r\n\r\n            for (let i of range) {\r\n                if (l) {\r\n                    if (i - l === 2) {\r\n                        page = l + 1;\r\n\r\n                        html.push($('<span />', {\r\n                            text: page,\r\n                            class: 'pajinatify__button',\r\n                            attr: {\r\n                                'data-page': page\r\n                            }\r\n                        }));\r\n\r\n                    } else if (i - l !== 1) {\r\n                        html.push($('<span />', {\r\n                            text: '...'\r\n                        }));\r\n                    }\r\n                }\r\n\r\n                page = i;\r\n\r\n                html.push($('<span />', {\r\n                    text: page,\r\n                    class: 'pajinatify__button' + (page == this.CURRENT_PAGE ? ' pajinatify__current' : ''),\r\n                    attr: {\r\n                        'data-page': page\r\n                    }\r\n                }));\r\n\r\n                l = i;\r\n            }\r\n\r\n            if (this.CURRENT_PAGE != this.TOTAL_PAGES) {\r\n                page = +this.CURRENT_PAGE + 1;\r\n\r\n                html.push($('<span />', {\r\n                    class: 'pajinatify__button pajinatify__arrow arrow__next',\r\n                    attr: {\r\n                        'data-page': page\r\n                    }\r\n                }));\r\n            }\r\n\r\n            return html;\r\n        };\r\n    }\r\n\r\n    let destroy = ($el) => {\r\n        if (!$el.is('div')) return;\r\n\r\n        $el.removeClass('pajinatify').empty();\r\n\r\n        $.removeData($el[0], 'plugin_' + pluginName);\r\n    };\r\n\r\n    let set = ($el, currentPage, totalCount) => {\r\n        _this.CURRENT_PAGE = currentPage || _this.CURRENT_PAGE;\r\n\r\n        let take = -1;\r\n        if (totalCount) {\r\n            take = $el.data('take');\r\n\r\n            _this.TOTAL_PAGES = Math.floor(totalCount / take);\r\n            if (totalCount % take != 0) _this.TOTAL_PAGES++;\r\n        }\r\n\r\n        _this.$el.html(_this.compute());\r\n\r\n        if (_this.config.debug) {\r\n            console.log('init-------------------------------------');\r\n            console.log(`total count: ${totalCount}`);\r\n            console.log(`take: ${take}`);\r\n            console.log(`current page: ${_this.CURRENT_PAGE}`);\r\n            console.log(`total pages: ${_this.TOTAL_PAGES}`);\r\n            console.log('-----------------------------------------');\r\n        }\r\n    }\r\n\r\n    $.fn[pluginName] = function (options) {\r\n        if (typeof options === 'string') {\r\n            switch (options) {\r\n                case 'destroy':\r\n                    destroy(this);\r\n                    break;\r\n\r\n                case 'set':\r\n                    set(this, arguments[1], arguments[2]);\r\n                    break;\r\n            }\r\n\r\n            return this;\r\n        }\r\n\r\n        return this.each(function () {\r\n            if (!$.data(this, 'plugin_' + pluginName)) {\r\n                $.data(this, 'plugin_' + pluginName, new p[pluginName](this, options));\r\n            }\r\n        });\r\n    };\r\n})(jQuery, window, document);"]}